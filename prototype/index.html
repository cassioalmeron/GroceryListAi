<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery List AI - Home</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Dark theme color scheme matching the original app */
        body {
            background-color: #1a1a1a;
            color: rgba(255, 255, 255, 0.87);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Custom scrollbar styling */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #2a2a2a;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #666;
        }

        /* Typing indicator animation */
        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .typing-dot {
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        /* Pulse animation for status indicator */
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Loading spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinner {
            animation: spin 1s linear infinite;
        }

        /* Settings button rotation on hover */
        .settings-btn:hover svg {
            transform: rotate(45deg);
            transition: transform 0.2s ease;
        }

        /* Recording pulse animation */
        @keyframes pulse-red {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        .recording {
            animation: pulse-red 1.5s infinite;
        }

        /* Sidebar styles */
        .sidebar {
            transition: transform 0.3s ease;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body class="min-h-screen flex">
    <!-- Left Sidebar Navigation -->
    <aside id="sidebar" class="sidebar fixed md:sticky top-0 left-0 h-screen w-64 bg-[#2a2a2a] border-r border-[#404040] flex flex-col z-50">
        <!-- Logo/Brand -->
        <div class="p-6 border-b border-[#404040]">
            <h2 class="text-xl font-semibold text-white">Grocery List AI</h2>
        </div>

        <!-- Navigation Links -->
        <nav class="flex-1 p-4">
            <ul class="space-y-2">
                <li>
                    <a href="index.html" class="flex items-center gap-3 px-4 py-3 bg-[#646cff] text-white rounded-lg font-medium transition-colors">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                        Home
                    </a>
                </li>
                <li>
                    <a href="settings.html" class="flex items-center gap-3 px-4 py-3 text-white/70 hover:bg-[#3a3a3a] hover:text-white rounded-lg font-medium transition-colors">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m-6-6h6m6 0h6"></path>
                            <path d="M19.07 4.93l-4.24 4.24m0 5.66l4.24 4.24M4.93 4.93l4.24 4.24m0 5.66l-4.24 4.24"></path>
                        </svg>
                        Settings
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Footer info -->
        <div class="p-4 border-t border-[#404040] text-xs text-white/50">
            <p>Version 1.0.0</p>
            <p class="mt-1">Last updated: Dec 20, 2025 at 3:45 PM</p>
        </div>
    </aside>

    <!-- Mobile Menu Button -->
    <button
        id="menuToggle"
        class="md:hidden fixed top-4 left-4 bg-[#2a2a2a] border border-[#4a4a4a] rounded-lg w-12 h-12 flex items-center justify-center hover:bg-[#3a3a3a] hover:border-[#646cff] transition-all z-40"
        onclick="toggleMenu()"
    >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>

    <!-- Overlay for mobile menu -->
    <div id="overlay" class="md:hidden hidden fixed inset-0 bg-black/50 z-40" onclick="toggleMenu()"></div>

    <!-- Main Container -->
    <div class="flex-1 overflow-auto">
        <div class="max-w-7xl mx-auto p-4">
        <div class="flex flex-col lg:flex-row gap-8 min-h-[calc(100vh-8rem)]">

            <!-- Left Panel - Todo List -->
            <div class="flex-1 min-w-0 lg:min-w-[400px]">
                <div class="h-full bg-[#2a2a2a] rounded-xl border border-[#404040] shadow-lg flex flex-col p-6">
                    <h1 class="text-2xl font-semibold text-white text-center mb-6">Todo List</h1>

                    <!-- Add Todo Input -->
                    <div class="flex gap-4 mb-8">
                        <input
                            type="text"
                            id="todoInput"
                            placeholder="Enter a new todo..."
                            class="flex-1 px-3 py-2 bg-[#3a3a3a] text-white border-2 border-[#555] rounded-lg outline-none focus:border-[#646cff] transition-colors placeholder:text-white/50"
                        />
                        <button
                            onclick="addTodo()"
                            class="px-6 py-2 bg-[#646cff] text-white rounded-lg hover:bg-[#535bf2] transition-colors font-medium"
                        >
                            Add
                        </button>
                    </div>

                    <!-- Todo List -->
                    <ul id="todoList" class="flex-1 space-y-2 overflow-y-auto custom-scrollbar">
                        <!-- Sample todos -->
                        <li class="flex items-center gap-4 p-4 bg-[#3a3a3a] border border-[#555] rounded-lg hover:bg-[#4a4a4a] transition-colors">
                            <input type="checkbox" class="w-5 h-5 cursor-pointer accent-[#646cff]" onchange="toggleTodo(this)">
                            <span class="flex-1 text-white">Buy milk</span>
                            <button onclick="removeTodo(this)" class="px-4 py-1 bg-[#dc3545] text-white rounded-md hover:bg-[#c82333] transition-colors text-sm">
                                Remove
                            </button>
                        </li>
                        <li class="flex items-center gap-4 p-4 bg-[#3a3a3a] border border-[#555] rounded-lg hover:bg-[#4a4a4a] transition-colors">
                            <input type="checkbox" class="w-5 h-5 cursor-pointer accent-[#646cff]" onchange="toggleTodo(this)">
                            <span class="flex-1 text-white">Buy eggs</span>
                            <button onclick="removeTodo(this)" class="px-4 py-1 bg-[#dc3545] text-white rounded-md hover:bg-[#c82333] transition-colors text-sm">
                                Remove
                            </button>
                        </li>
                        <li class="flex items-center gap-4 p-4 bg-[#333] border border-[#555] rounded-lg opacity-60">
                            <input type="checkbox" class="w-5 h-5 cursor-pointer accent-[#646cff]" checked onchange="toggleTodo(this)">
                            <span class="flex-1 text-white/50 line-through">Buy bread</span>
                            <button onclick="removeTodo(this)" class="px-4 py-1 bg-[#dc3545] text-white rounded-md hover:bg-[#c82333] transition-colors text-sm">
                                Remove
                            </button>
                        </li>
                    </ul>

                    <!-- Empty State (hidden by default) -->
                    <p id="emptyMessage" class="text-center text-white/50 italic mt-8 hidden">
                        No todos yet. Add one above!
                    </p>
                </div>
            </div>

            <!-- Right Panel - Chat -->
            <div class="flex-1 min-w-0 lg:min-w-[400px]">
                <div class="h-full bg-[#2a2a2a] rounded-xl border border-[#404040] shadow-lg flex flex-col overflow-hidden">

                    <!-- Chat Header -->
                    <div class="flex justify-between items-center px-6 py-4 bg-[#333333] border-b border-[#404040]">
                        <h2 class="text-xl font-semibold text-white">AI Assistant</h2>
                        <div class="flex items-center gap-2 text-[#10b981] text-sm font-medium">
                            <span class="w-2 h-2 bg-[#10b981] rounded-full pulse"></span>
                            Online
                        </div>
                    </div>

                    <!-- Chat Messages -->
                    <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-[#2a2a2a]">
                        <!-- Welcome Message -->
                        <div class="text-center py-8">
                            <h3 class="text-lg text-white/80 mb-2">Welcome!</h3>
                            <p class="text-sm text-white/60">Start a conversation with the AI assistant. Ask me anything!</p>
                        </div>

                        <!-- Sample User Message -->
                        <div class="flex justify-end">
                            <div class="max-w-[70%] bg-[#3b82f6] text-white px-4 py-3 rounded-2xl rounded-br-md">
                                <div class="mb-1">Add milk to my list</div>
                                <div class="text-xs opacity-70 text-right">2:30 PM</div>
                            </div>
                        </div>

                        <!-- Sample AI Message -->
                        <div class="flex justify-start">
                            <div class="max-w-[70%] bg-[#404040] text-white border border-[#555] px-4 py-3 rounded-2xl rounded-bl-md">
                                <div class="mb-1">I've added milk to your grocery list!</div>
                                <div class="text-xs opacity-70">2:30 PM</div>
                            </div>
                        </div>

                        <!-- Typing Indicator (hidden by default) -->
                        <div id="typingIndicator" class="flex justify-start hidden">
                            <div class="bg-[#404040] border border-[#555] px-4 py-3 rounded-2xl rounded-bl-md">
                                <div class="flex items-center gap-1">
                                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Input -->
                    <div class="px-6 py-4 bg-[#333333] border-t border-[#404040]">
                        <div class="flex items-end gap-3 bg-[#404040] border border-[#555] rounded-3xl p-2 focus-within:border-[#3b82f6] focus-within:shadow-[0_0_0_3px_rgba(59,130,246,0.1)] transition-all">
                            <textarea
                                id="chatInput"
                                rows="1"
                                placeholder="Type your message here..."
                                class="flex-1 bg-transparent text-white text-sm px-3 py-2 outline-none resize-none placeholder:text-white/50"
                                onkeypress="handleChatKeyPress(event)"
                            ></textarea>

                            <!-- Microphone Button -->
                            <button
                                id="micButton"
                                onclick="toggleRecording()"
                                class="w-10 h-10 bg-[#10b981] text-white rounded-full flex items-center justify-center hover:bg-[#059669] hover:scale-105 transition-all flex-shrink-0"
                                title="Start voice recording"
                            >
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                    <line x1="12" y1="19" x2="12" y2="23"></line>
                                    <line x1="8" y1="23" x2="16" y2="23"></line>
                                </svg>
                            </button>

                            <!-- Send Button -->
                            <button
                                onclick="sendMessage()"
                                class="w-10 h-10 bg-[#3b82f6] text-white rounded-full flex items-center justify-center hover:bg-[#2563eb] hover:scale-105 active:scale-95 transition-all flex-shrink-0"
                            >
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22,2 15,22 11,13 2,9"></polygon>
                                </svg>
                            </button>
                        </div>

                        <!-- Recording Status (hidden by default) -->
                        <div id="recordingStatus" class="hidden mt-2 flex items-center gap-2 px-3 py-2 bg-red-500/10 border border-red-500/30 rounded-xl text-red-500 text-sm font-medium">
                            <div class="flex items-center gap-1">
                                <span class="w-1 h-3 bg-red-500 rounded-sm recording"></span>
                                <span class="w-1 h-3 bg-red-500 rounded-sm recording" style="animation-delay: 0.1s"></span>
                                <span class="w-1 h-3 bg-red-500 rounded-sm recording" style="animation-delay: 0.2s"></span>
                            </div>
                            <span>Listening... Speak now</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <script>
        // Mobile Menu Toggle
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('hidden');
        }


        // Todo List Functions
        function addTodo() {
            const input = document.getElementById('todoInput');
            const text = input.value.trim();

            if (text === '') return;

            const todoList = document.getElementById('todoList');
            const emptyMessage = document.getElementById('emptyMessage');

            // Hide empty message
            emptyMessage.classList.add('hidden');

            // Create new todo item
            const li = document.createElement('li');
            li.className = 'flex items-center gap-4 p-4 bg-[#3a3a3a] border border-[#555] rounded-lg hover:bg-[#4a4a4a] transition-colors';
            li.innerHTML = `
                <input type="checkbox" class="w-5 h-5 cursor-pointer accent-[#646cff]" onchange="toggleTodo(this)">
                <span class="flex-1 text-white">${text}</span>
                <button onclick="removeTodo(this)" class="px-4 py-1 bg-[#dc3545] text-white rounded-md hover:bg-[#c82333] transition-colors text-sm">
                    Remove
                </button>
            `;

            todoList.appendChild(li);
            input.value = '';
        }

        function removeTodo(button) {
            const li = button.closest('li');
            li.remove();

            // Show empty message if no todos left
            const todoList = document.getElementById('todoList');
            const emptyMessage = document.getElementById('emptyMessage');
            if (todoList.children.length === 0) {
                emptyMessage.classList.remove('hidden');
            }
        }

        function toggleTodo(checkbox) {
            const li = checkbox.closest('li');
            const span = li.querySelector('span');

            if (checkbox.checked) {
                li.className = 'flex items-center gap-4 p-4 bg-[#333] border border-[#555] rounded-lg opacity-60';
                span.className = 'flex-1 text-white/50 line-through';
            } else {
                li.className = 'flex items-center gap-4 p-4 bg-[#3a3a3a] border border-[#555] rounded-lg hover:bg-[#4a4a4a] transition-colors';
                span.className = 'flex-1 text-white';
            }
        }

        // Chat Functions
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();

            if (text === '') return;

            const chatMessages = document.getElementById('chatMessages');

            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'flex justify-end';
            userMessage.innerHTML = `
                <div class="max-w-[70%] bg-[#3b82f6] text-white px-4 py-3 rounded-2xl rounded-br-md">
                    <div class="mb-1">${text}</div>
                    <div class="text-xs opacity-70 text-right">${getCurrentTime()}</div>
                </div>
            `;
            chatMessages.appendChild(userMessage);

            input.value = '';

            // Show typing indicator
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.classList.remove('hidden');

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate AI response after 2 seconds
            setTimeout(() => {
                typingIndicator.classList.add('hidden');

                const aiMessage = document.createElement('div');
                aiMessage.className = 'flex justify-start';
                aiMessage.innerHTML = `
                    <div class="max-w-[70%] bg-[#404040] text-white border border-[#555] px-4 py-3 rounded-2xl rounded-bl-md">
                        <div class="mb-1">This is a prototype. In the real app, I would respond to: "${text}"</div>
                        <div class="text-xs opacity-70">${getCurrentTime()}</div>
                    </div>
                `;
                chatMessages.appendChild(aiMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 2000);
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        let isRecording = false;

        function toggleRecording() {
            const micButton = document.getElementById('micButton');
            const recordingStatus = document.getElementById('recordingStatus');

            isRecording = !isRecording;

            if (isRecording) {
                micButton.className = 'w-10 h-10 bg-[#ef4444] text-white rounded-full flex items-center justify-center hover:bg-[#dc2626] transition-all flex-shrink-0 recording';
                micButton.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="6" y="6" width="12" height="12" rx="2" ry="2"></rect>
                    </svg>
                `;
                micButton.title = 'Stop recording';
                recordingStatus.classList.remove('hidden');

                // Simulate recording end after 3 seconds
                setTimeout(() => {
                    if (isRecording) {
                        toggleRecording();
                        document.getElementById('chatInput').value = "Sample transcribed text";
                    }
                }, 3000);
            } else {
                micButton.className = 'w-10 h-10 bg-[#10b981] text-white rounded-full flex items-center justify-center hover:bg-[#059669] hover:scale-105 transition-all flex-shrink-0';
                micButton.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                `;
                micButton.title = 'Start voice recording';
                recordingStatus.classList.add('hidden');
            }
        }

        // Allow Enter key to add todos
        document.getElementById('todoInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                addTodo();
            }
        });
    </script>
</body>
</html>
